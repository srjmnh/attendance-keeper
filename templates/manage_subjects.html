{% extends "base.html" %}

{% block title %}Manage Subjects{% endblock %}

{% block content %}
<h2>Manage Subjects</h2>

<!-- Add New Subject Form -->
<div class="card mt-3">
  <div class="card-header">
    Add New Subject
  </div>
  <div class="card-body">
    <form method="POST" action="{{ url_for('manage_subjects') }}">
      <div class="mb-3">
        <label for="subject_name" class="form-label">Subject Name</label>
        <input type="text" class="form-control" id="subject_name" name="subject_name" required>
      </div>
      <button type="submit" class="btn btn-primary">Add Subject</button>
    </form>
  </div>
</div>

<!-- Existing Subjects List -->
<div class="card mt-4">
  <div class="card-header">
    Existing Subjects
  </div>
  <div class="card-body">
    <table class="table table-bordered">
      <thead>
        <tr>
          <th>Code</th>
          <th>Name</th>
          <th>Created At</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for subject in subjects %}
          <tr>
            <td>{{ subject.code }}</td>
            <td>{{ subject.name }}</td>
            <td>{{ subject.created_at }}</td>
            <td>
              <form method="POST" action="{{ url_for('delete_subject', subject_id=subject.id) }}" style="display:inline;">
                <button type="submit" class="btn btn-danger btn-sm" onclick="return confirm('Are you sure you want to delete this subject?');">Delete</button>
              </form>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

<a href="{{ url_for('dashboard') }}" class="btn btn-secondary mt-3">Back to Dashboard</a>
{% endblock %} 